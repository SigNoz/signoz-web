---
date: 2025-04-10
id: github-receiver
title: GitHub Receiver Integration
description: Integrate the GitHub Receiver to scrape the metrics and send the data to SigNoz
hide_table_of_contents: true
---

This document contains instructions on how to monitor the GitHub Repos using [GitHub Receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/githubreceiver/README.md) to scrape metrics using GitHub GraphQL and REST APIs.


## Prerequisites

Access token is required for scraping the metrics which can be generated in 2 ways.

- [Personal Access Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#fine-grained-personal-access-tokens)

- [GitHub App](https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app)


### Setup the SigNoz to scrape the metrics

<Tabs entityName="plans">
<TabItem value="signoz-cloud" label="SigNoz Cloud" default>


### Step 1. 

Add the following service under `services` section of docker-compose.yaml file.

    ```yaml:/deploy/docker/docker-compose.yaml 

        github-otel-collector:
            image: otel/opentelemetry-collector-contrib:0.123.0
            container_name: github-otel-collector
            command: [ "--config=/etc/otel-collector-config.yaml" ]
            volumes:
              - ./github-otel-collector-config.yaml:/etc/otel-collector-config.yaml
            environment:
              - GH_PAT=<Access Token>
            networks:
              - signoz-net
            depends_on:
              - otel-collector

    ```

**Step 2.** Comment the following lines and add `GH_PAT` as environment variable under `environment` section

    ```dockerfile
        # - --manager-config=/etc/manager-config.yaml
        # - --copy-path=/var/tmp/collector-config.yaml
        - GH_PAT=<Access Token>
    ```

**Step 3.** Create github-otel-collector-config.yaml file and add the following contents.

    ```dockerfile
       extensions:
         bearertokenauth/github:
           token: ${env:GH_PAT}

       receivers:
         github:
            log_level: debug
            initial_delay: 1s
            collection_interval: 60s
            timeout: 30s
            scrapers:
              scraper:
                github_org: <Your GitHub Org>
                # search_query: ""
                metrics:
                vcs.contributor.count:
                    enabled: true
                auth:
                authenticator: bearertokenauth/github

       exporters:
         otlp:
           endpoint: signoz-otel-collector:4317
           tls:
             insecure: true
           timeout: 30s
         debug:
           verbosity: detailed 

       service:
         extensions: [bearertokenauth/github]
         pipelines:
           metrics:
             receivers: [github]
             processors: []
             exporters: [otlp,debug]
    ```

**Step 4.** Update the exising otel-collector-config.yaml file with the following contents.

    ```dockerfile
       extensions:
         bearertokenauth/github:
           token: ${env:GH_PAT}

       receivers:
         otlp:
           protocols:
             grpc:
               endpoint: 0.0.0.0:4317
             http:
               endpoint: 0.0.0.0:4318
       
       exporters:
         otlp/signozcloud:
           endpoint: ingest.in.signoz.cloud:443
           headers:
             signoz-access-token: <Access Token>
           tls:
             insecure: false

       service:
         extensions: [bearertokenauth/github]
         pipelines:
           metrics:
             receivers: [otlp]
             processors: []
             exporters: [otlp/signozcloud]
    ```
**Step 5.** Restart the `otel-collector` service and `github-otel-collector` service.

    ```bash
        docker compose -f docker/docker-compose.yaml restart otel-collector
        docker compose -f docker/docker-compose.yaml restart github-otel-collector
        docker compose -f docker/docker-compose.yaml logs -f github-otel-collector
    ```

    Logs should be seen in `github-otel-collector` as below,

    ```markdown
        starting the GitHub scraper
        Everything is ready. Begin running and processing data.
    ```

</TabItem>

<TabItem value='self-host' label='Self-Host'>


### Step 1. Add GitHub OpenTelemetry Collector Service

<Admonition>
üí° At the time of writing this guide, the SigNoz OpenTelemetry Collector does not support the GitHub Receiver.

üê≥ If you're using Kubernetes or Linux for hosting SigNoz, consider running a separate OTel Collector for GitHub by following this [link](https://opentelemetry.io/docs/collector/installation/).

‚öôÔ∏è Following setup is based on [DockerCompose](https://signoz.io/docs/install/docker/#install-signoz-using-docker-compose)
</Admonition>

Add the `github-otel-collector` service under `services` section of `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    github-otel-collector:
        image: otel/opentelemetry-collector-contrib:0.123.0
        container_name: github-otel-collector
        command: [ "--config=/etc/otel-collector-config.yaml" ]
        volumes:
          - ./github-otel-collector-config.yaml:/etc/otel-collector-config.yaml
        environment:
          - GH_PAT=<Access Token>
        networks:
          - signoz-net
        depends_on:
          - otel-collector
    ...
    ```

### Step 2. Configure GitHub Token as Environment Variable
Comment the following lines under `command` and add `GH_PAT` as environment variable under `environment` section of `otel-collector` service in `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    otel-collector:
        command:
        # - --manager-config=/etc/manager-config.yaml
        # - --copy-path=/var/tmp/collector-config.yaml
        environment:
          - GH_PAT=<Access Token>
    ...
    ```

### Step 3. Create GitHub OTel Collector Configuration
Create `github-otel-collector-config.yaml` file and add the following contents.

    ```yaml:/deploy/docker/github-otel-collector-config.yaml 
    ...
    extensions:
        bearertokenauth/github:
        token: ${env:GH_PAT}

    receivers:
        github:
        log_level: debug
        initial_delay: 1s
        collection_interval: 60s
        timeout: 30s
        scrapers:
            scraper:
            github_org: <Your GitHub Org>
            # search_query: ""
            metrics:
            vcs.contributor.count:
                enabled: true
            auth:
            authenticator: bearertokenauth/github

    exporters:
        otlp:
        endpoint: signoz-otel-collector:4317
        tls:
            insecure: true
        timeout: 30s
        debug:
        verbosity: detailed 

    service:
        extensions: [bearertokenauth/github]
        pipelines:
        metrics:
            receivers: [github]
            processors: []
            exporters: [otlp,debug]
    ...
    ```

### Step 4. Update SigNoz OTel Collector Configuration
Update the existing `otel-collector-config.yaml` file with the following contents.

    ```yaml:/deploy/docker/otel-collector-config.yaml
    ...
    extensions:
        bearertokenauth/github:
        token: ${env:GH_PAT}

    receivers:
        otlp:
        protocols:
            grpc:
            endpoint: 0.0.0.0:4317
            http:
            endpoint: 0.0.0.0:4318
    
    exporters:
        clickhousemetricswrite:
        endpoint: tcp://clickhouse:9000/signoz_metrics
        resource_to_telemetry_conversion:
            enabled: true

    service:
        extensions: [bearertokenauth/github]
        pipelines:
        metrics:
            receivers: [otlp]
            processors: []
            exporters: [clickhousemetricswrite]
    ...
    ```
### Step 5. Restart OTel Collector Services
Restart the `otel-collector` service and `github-otel-collector` service.

    ```bash
    docker compose -f docker/docker-compose.yaml restart otel-collector
    docker compose -f docker/docker-compose.yaml restart github-otel-collector
    ```

### Step 6. View Logs of GitHub OTel Collector
Run the following command to view the logs.
    
    ```bash
    docker compose -f docker/docker-compose.yaml logs -f github-otel-collector
    ```
    
<Figure src="/img/docs/cicd/github/GitHubReceiver.webp" alt="GitHub Receiver" caption="GitHub Receiver Startup Message" />

</TabItem>
</Tabs>

## Validate GitHub Metrics in SigNoz

- The following default metrics are scraped and can be viewed under the `Metrics` tab in the SigNoz UI.

<Figure src="/img/docs/cicd/github/Metrics.webp" alt="GitHub Metrics" caption="Scraped Metrics from GitHub" />

- Refer this [link](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/githubreceiver/documentation.md) for more info on metrics.