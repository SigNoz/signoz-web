---
date: 2025-04-10
id: github-receiver-traces
title: GitHub Actions Traces
description: Integrate the GitHub Receiver to forward the traces data to SigNoz
hide_table_of_contents: true
---

This document contains instructions on how to get the traces of GitHub Actions using [GitHub Receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/githubreceiver/README.md).

## Prerequisites

1. Create [Webhook](https://docs.github.com/en/webhooks/using-webhooks/creating-webhooks#creating-a-repository-webhook) in the repo by selecting `workflow_run` and `workflow_job` events.

2. Have the GitHub Actions workflow for your repo, for the first time users refer this [link](https://docs.github.com/en/actions/writing-workflows/quickstart#creating-your-first-workflow).

<Admonition>
üí° At the time of writing this guide, the SigNoz OTel Collector does not support the GitHub Receiver.

üê≥ If you're using Kubernetes or Linux for hosting SigNoz, consider running a separate OTel Collector for GitHub by following this [link](https://opentelemetry.io/docs/collector/installation/) along with [SigNoz Setup](https://signoz.io/docs/install/).

‚öôÔ∏è Following setup is based on [DockerCompose](https://signoz.io/docs/install/docker/#install-signoz-using-docker-compose).
</Admonition>

### Setup the SigNoz to fetch the traces

<Tabs entityName="plans">
<TabItem value="signoz-cloud" label="SigNoz Cloud" default>

### Step 1. Add GitHub OTel Collector Service
Add the `github-otel-collector` service under `services` section of `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    github-otel-collector:
      image: otel/opentelemetry-collector-contrib:0.123.0
      container_name: github-otel-collector
      command: [ "--config=/etc/otel-collector-config.yaml" ]
      volumes:
        - ./github-otel-collector-config.yaml:/etc/otel-collector-config.yaml
      environment:
        - GITHUB_WEBHOOK_SECRET=<Webhook Secret>
      ports:
        - "19418:19418" # Webhook endpoint port
      networks:
        - signoz-net
    ...
    ```

### Step 2. Disable the SigNoz OTel Collector Service
Comment the entire lines of `otel-collector` service in `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml
    ...
  # otel-collector:
  #   !!merge <<: *db-depend
  #   image: signoz/signoz-otel-collector:${OTELCOL_TAG:-v0.111.38}
  #   container_name: signoz-otel-collector
  #   command:
  #     - --config=/etc/otel-collector-config.yaml
  #     - --manager-config=/etc/manager-config.yaml
  #     - --copy-path=/var/tmp/collector-config.yaml
  #     - --feature-gates=-pkg.translator.prometheus.NormalizeName
  #   volumes:
  #     - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml
  #     - ../common/signoz/otel-collector-opamp-config.yaml:/etc/manager-config.yaml
  #   environment:
  #     - OTEL_RESOURCE_ATTRIBUTES=host.name=signoz-host,os.type=linux
  #     - LOW_CARDINAL_EXCEPTION_GROUPING=false
  #   ports:
  #     # - "1777:1777"     # pprof extension
  #     - "4317:4317" # OTLP gRPC receiver
  #     - "4318:4318" # OTLP HTTP receiver
  #   depends_on:
  #     signoz:
  #       condition: service_healthy
    ...
    ```

### Step 3. Configure SigNoz Cloud Ingestion Key
Create an environment variable called `SIGNOZ_INGESTION_KEY` under `environment` section of `github-otel-collector` service in `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    github-otel-collector:
      environment:
        - SIGNOZ_INGESTION_KEY=<SIGNOZ_INGESTION_KEY>
    ...
    ```

### Step 4. Create GitHub OTel Collector Configuration
Create `github-otel-collector-config.yaml` file and add the following contents.

    ```yaml:/deploy/docker/github-otel-collector-config.yaml
    ...
    receivers:
      github:
        webhook:
          endpoint: 0.0.0.0:19418
          path: /events
          health_path: /health
          secret: ${env:GITHUB_WEBHOOK_SECRET}
        scrapers:
          scraper:

    exporters:
      otlp/signozcloud:
        endpoint: ingest.<region>.signoz.cloud:443
        headers:
          signoz-ingestion-key: ${SIGNOZ_INGESTION_KEY}
        tls:
          insecure: false
      debug:
        verbosity: detailed 

    service:
      pipelines:
        traces:
          receivers: [github]
          processors: []
          exporters: [otlp/signozcloud,debug]
    ...
    ```

### Step 5. Restart GitHub OTel Collector Service
Restart `github-otel-collector` service.

    ```bash
    docker compose -f docker/docker-compose.yaml restart github-otel-collector
    ```

### Step 6. View Logs of GitHub OTel Collector
Run the following command to view the logs.
    
    ```bash
    docker compose -f docker/docker-compose.yaml logs -f github-otel-collector
    ```
    
<Figure src="/img/docs/cicd/github/Traces.webp" alt="GitHub Receiver" caption="GitHub Receiver Startup Message" />

</TabItem>

<TabItem value='self-host' label='Self-Host'>

### Step 1. Add GitHub OTel Collector Service
Add the `github-otel-collector` service under `services` section of `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    github-otel-collector:
      image: otel/opentelemetry-collector-contrib:0.123.0
      container_name: github-otel-collector
      command: [ "--config=/etc/otel-collector-config.yaml" ]
      volumes:
        - ./github-otel-collector-config.yaml:/etc/otel-collector-config.yaml
      environment:
        - GITHUB_WEBHOOK_SECRET=<Webhook Secret>
      ports:
        - "19418:19418" # Webhook endpoint port
      networks:
        - signoz-net
      depends_on:
        - otel-collector
    ...
    ```

### Step 2. Disable Default SigNoz OTel Config Paths
Comment the following lines under `command` section of `otel-collector` service in `docker-compose.yaml` file.

    ```yaml:/deploy/docker/docker-compose.yaml 
    ...
    otel-collector:
      command:
        # - --manager-config=/etc/manager-config.yaml
        # - --copy-path=/var/tmp/collector-config.yaml
    ...
    ```

### Step 3. Create GitHub OTel Collector Configuration
Create `github-otel-collector-config.yaml` file and add the following contents.

    ```yaml:/deploy/docker/github-otel-collector-config.yaml
    ...
    receivers:
      github:
        webhook:
          endpoint: 0.0.0.0:19418
          path: /events
          health_path: /health
          secret: ${env:GITHUB_WEBHOOK_SECRET}
        scrapers:
          scraper:

    exporters:
      otlp:
        endpoint: signoz-otel-collector:4317
        tls:
          insecure: true
        timeout: 30s
      debug:
        verbosity: detailed 

    service:
      pipelines:
        traces:
          receivers: [github]
          processors: []
          exporters: [otlp,debug]
    ...
    ```

### Step 4. Update SigNoz OTel Collector Configuration
Update the existing `otel-collector-config.yaml` file with the following contents.

    ```yaml:/deploy/docker/otel-collector-config.yaml
    ...
    receivers:
      otlp:
        protocols:
          grpc:
            endpoint: 0.0.0.0:4317
          http:
            endpoint: 0.0.0.0:4318
    
    exporters:
      clickhousetraces:
        datasource: tcp://clickhouse:9000/signoz_traces
        low_cardinal_exception_grouping: ${env:LOW_CARDINAL_EXCEPTION_GROUPING}
        use_new_schema: true
      debug:
        verbosity: detailed

    service:
      pipelines:
        traces:
          receivers: [otlp]
          processors: []
          exporters: [clickhousetraces,debug]
    ...
    ```
### Step 5. Restart OTel Collector Services
Restart the `otel-collector` service and `github-otel-collector` service.

    ```bash
    docker compose -f docker/docker-compose.yaml restart otel-collector
    docker compose -f docker/docker-compose.yaml restart github-otel-collector
    ```

### Step 6. View Logs of GitHub OTel Collector
Run the following command to view the logs.
    
    ```bash
    docker compose -f docker/docker-compose.yaml logs -f github-otel-collector
    ```

<Figure src="/img/docs/cicd/github/Traces.webp" alt="GitHub Receiver Traces" caption="GitHub Receiver Startup Message" />

</TabItem>
</Tabs>

## Validate GitHub Actions Traces in SigNoz

- Traces can be viewed under the `Traces` tab in the SigNoz UI.

<Figure src="/img/docs/cicd/github/TracesSigNoz.webp" alt="GitHub Receiver Traces Console" caption="Traces List View" />

- Click on `TraceID` to get the full view of the GitHub Actions workflow, which can be seen as

<Figure src="/img/docs/cicd/github/TraceID.webp" alt="GitHub Receiver TraceID" caption="TraceID View" />