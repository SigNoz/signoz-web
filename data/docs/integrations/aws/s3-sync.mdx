---
date: 2025-05-29
id: s3-sync
title: Sync Logs from S3 Buckets
hide_table_of_contents: true
---

## Overview

The **S3 Sync** feature in SigNoz enables seamless ingestion of log files from 
your Amazon S3 buckets into the SigNoz observability platform. 
This integration leverages AWS services such as EventBridge and Lambda to detect
and forward new log files, ensuring real-time log analysis and monitoring for services like MSK, VPC, etc 
service's logs that are only pushed into S3 buckets.

## Prerequisites
Before setting up the AWS S3 Sync integration, ensure the following:
- **AWS Account Access**: You have administrative access to your AWS account.
- **SigNoz Integration Agent**: The SigNoz Integration Agent is installed and configured in your environment.
- **S3 Buckets**: Identify the S3 buckets and their respective AWS regions from which you want to sync logs.

## Step-by-Step Setup

### 1. Install the Integration Agent
Begin by installing the SigNoz Integration Agent using SigNoz-provided AWS 
Cloudformation Template. This template establishes the required IAM roles and 
permissions, allowing the Integration Agent to interact with your S3 buckets 
and related AWS services.

### 2. Enable S3 Sync in SigNoz UI
Navigate to the SigNoz user interface:

- Go to **Integrations** > **AWS**.
- Select **S3 Sync** and click **Enable `Log Collection`**.
- Provide the names of S3 buckets you wish to sync in the specific regions, you can only sync logs from regions that are enabled in `Account Settings`.

The Integration Agent will receive this configuration and proceed with the setup.

### 3. Automatic Setup by Integration Agent

Upon receiving the configuration, this setup is created in each region:

- **EventBridge Configuration**: The agent enables EventBridge notifications on the specified S3 buckets.
- **Event Filtering**: It sets up event filters to monitor for new files within specific buckets.
- **ECR Repository**: Store Lambda function Image for deployment, Integration Agent pushes an Image from DockerHub to ECR due to limitations setup by AWS.
- **Lambda Function Deployment**: A Lambda function is created, utilizing the permissions established by the Cloud Function Template. This function is responsible for processing new log files.

### 4. Log Ingestion Process

When a new `.log.gz` file is added to the specified S3 buckets:

- EventBridge detects the new file and triggers the Lambda function.
- The Lambda function reads the log file and forwards its contents to the SigNoz Ingestion endpoint, making them available for analysis and processing.

## Considerations
- **File Naming Convention**: Ensure that log files intended for synchronization have the `.log.gz` extension.
- **Permissions**: The IAM roles and permissions set up by the Cloudformation Template must remain intact for the integration to function correctly.
- **Region Specificity**: Accurately specify S3 buckets corresponding to your AWS regions during configuration.

## Troubleshooting

- **Logs Not Appearing in SigNoz**:
    - Verify that the S3 bucket names are correctly specified in the SigNoz UI.
    - Check the AWS CloudWatch logs for the Lambda function to identify any errors during execution.
    - Ensure that the `.log.gz` files are correctly formatted and compressed.
- **Permission Issues**:
    - Confirm that the IAM roles created by the Cloudformation Template have the necessary permissions to access the S3 buckets and invoke the Lambda function.
    - Review the Integration Agent's access to AWS credentials and permissions.