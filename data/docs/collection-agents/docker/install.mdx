---
title: OpenTelemetry Collector for Docker - Install
id: install
description: Step-by-step guide to install OpenTelemetry Collector for Docker environments
---

# OpenTelemetry Collector for Docker - Install

## Prerequisites

Before installing the OpenTelemetry Collector, ensure you have:

- Docker Engine 20.10+ installed and running
- Administrative access to the Docker host

## Installation

### Step 1: Create Configuration Directory

```bash
mkdir -p ~/opentelemetry-collector
cd ~/opentelemetry-collector
```

### Step 2: Create Collector Configuration

Create `otel-config.yaml` based on your SigNoz deployment:

<Tabs>
<TabItem value="cloud" label="SigNoz Cloud" default>

```yaml
receivers:
  # Receive application traces and metrics
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

processors:
  # Batch data for efficiency
  batch:
    timeout: 1s
    send_batch_size: 1024

  # Add resource information
  resourcedetection:
    detectors: [env, system, docker]
    timeout: 5s

  # Prevent memory overuse
  memory_limiter:
    limit_mib: 512
    spike_limit_mib: 128

exporters:
  # Send to SigNoz Cloud
  otlp:
    endpoint: "ingest.<YOUR_REGION>.signoz.cloud:443"
    tls:
      insecure: false
    headers:
      signoz-ingestion-key: "<YOUR_INGESTION_KEY>"

service:
  extensions: []
  pipelines:
    logs:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
    metrics:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
    traces:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
```

**Configuration Steps:**
1. Replace `<YOUR_REGION>` with your SigNoz Cloud region (e.g., `us`, `eu`, `in`)
2. Replace `<YOUR_INGESTION_KEY>` with your actual ingestion key from SigNoz Cloud

</TabItem>
<TabItem value="self-hosted" label="Self-Hosted SigNoz">

```yaml
receivers:
  # Receive application traces and metrics
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

processors:
  # Batch data for efficiency
  batch:
    timeout: 1s
    send_batch_size: 1024

  # Add resource information
  resourcedetection:
    detectors: [env, system, docker]
    timeout: 5s

  # Prevent memory overuse
  memory_limiter:
    limit_mib: 512
    spike_limit_mib: 128

exporters:
  # Send to Self-Hosted SigNoz
  otlp:
    endpoint: "http://<SIGNOZ_HOST>:4317"
    tls:
      insecure: true

service:
  extensions: []
  pipelines:
    logs:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
    metrics:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
    traces:
      receivers: [otlp]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
```

**Configuration Steps:**
1. Replace `<SIGNOZ_HOST>` with your SigNoz instance hostname or IP address
2. Update the port if your SigNoz installation uses a different OTLP port

</TabItem>
</Tabs>

### Step 3: Run the OpenTelemetry Collector

<Tabs>
<TabItem value="linux" label="Linux" default>

```bash
docker run --name opentelemetry-collector \
  --restart unless-stopped \
  --detach \
  -p 4317:4317 -p 4318:4318 \
  -v "$(pwd)/otel-config.yaml":/etc/otelcol-contrib/config.yaml \
  otel/opentelemetry-collector-contrib:0.130.1
```

</TabItem>
<TabItem value="macos" label="macOS">

```bash
docker run --name opentelemetry-collector \
  --restart unless-stopped \
  --detach \
  -p 4317:4317 -p 4318:4318 \
  -v "$(pwd)/otel-config.yaml":/etc/otelcol-contrib/config.yaml \
  otel/opentelemetry-collector-contrib:0.130.1
```

</TabItem>
<TabItem value="windows" label="Windows">

```bash
docker run --name opentelemetry-collector \
  --restart unless-stopped \
  --detach \
  -p 4317:4317 -p 4318:4318 \
  -v "$(pwd)/otel-config.yaml":/etc/otelcol-contrib/config.yaml \
  otel/opentelemetry-collector-contrib:0.130.1
```

</TabItem>
</Tabs>

## Verification

### Step 1: Check Collector Status

```bash
# Check if container is running
docker ps | grep opentelemetry-collector

# Check collector logs
docker logs opentelemetry-collector
```

Expected output:
```
Everything is ready. Begin running and processing data.
```

### Step 2: Test OTLP Endpoint

Test that the collector is accepting data on the OTLP endpoints:

```bash
# Test gRPC endpoint (port 4317)
curl -v http://localhost:4317

# Test HTTP endpoint (port 4318)
curl -v http://localhost:4318/v1/traces
```

The OpenTelemetry Collector is now running and ready to receive telemetry data on ports 4317 (gRPC) and 4318 (HTTP).
