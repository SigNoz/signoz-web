---
date: 2025-07-29
title: Monitor Multiple Kubernetes Clusters with K8s-Infra
id: k8s-infra-multi-cluster
---

This guide explains how to use the SigNoz `k8s-infra` Helm chart to monitor multiple Kubernetes clusters and view them together in SigNoz. The high-level approach is simple: deploy the chart in each cluster, point all clusters to the same SigNoz backend, and assign a unique cluster name to each deployment.

## Prerequisites

- A SigNoz backend (SigNoz Cloud or self-hosted)
- kubectl access to each target cluster
- Helm v3 installed

## How it works

- You install `k8s-infra` separately in each cluster.
- Each deployment sends telemetry to a common SigNoz backend.
- A unique cluster identifier (from `global.clusterName`) lets you filter, group, and compare signals across clusters in SigNoz.

## Step 1: Pick unique cluster names

Choose a naming scheme that is stable and human-friendly. Examples:

- `prod-us1`, `prod-eu1`, `staging`, `dev-team-a`

Set this value in `global.clusterName` for each cluster.

## Step 2: Prepare per-cluster overrides

Create an overrides file per cluster (for example, `override-values-prod-us1.yaml`). Use one of the following base templates and adjust as needed.

<Tabs>
  <TabItem value="cloud" label="SigNoz Cloud" default>

_override-values.yaml_

```yaml
global:
  cloud: others                 # or aws/gcp/aks to enable resource detection
  clusterName: <UNIQUE_CLUSTER_NAME>
  deploymentEnvironment: <ENV>  # e.g., production, staging
otelCollectorEndpoint: ingest.{region}.signoz.cloud:443
otelInsecure: false
signozApiKey: <SIGNOZ_INGESTION_KEY>
presets:
  otlpExporter:
    enabled: true
  loggingExporter:
    enabled: false
# Optional cloud-specific resource detection
# presets:
#   resourceDetection:
#     detectors:
#       - eks   # or gcp/azure
#       - system
```

<Admonition>
- Replace `<UNIQUE_CLUSTER_NAME>` with a unique name per cluster.
- Replace `{region}` with your SigNoz Cloud region (`us`, `in`, `eu`).
- See the install guide for regional endpoints and examples.
</Admonition>

**Install**

```bash
helm repo add signoz https://charts.signoz.io
helm repo update
helm install k8s-infra-<cluster> signoz/k8s-infra -n signoz-infra --create-namespace -f override-values-<cluster>.yaml
```

  </TabItem>
  <TabItem value="selfhosted" label="Self-Hosted SigNoz">

_override-values.yaml_

```yaml
global:
  cloud: others
  clusterName: <UNIQUE_CLUSTER_NAME>
  deploymentEnvironment: <ENV>
otelCollectorEndpoint: <SIGNOZ_OTLP_ENDPOINT>:4317
otelInsecure: true            # set to false if your endpoint uses TLS
presets:
  otlpExporter:
    enabled: true
  loggingExporter:
    enabled: false
# If TLS is enabled, set otelInsecure: false and include TLS settings as needed
```

**Install**

```bash
helm repo add signoz https://charts.signoz.io
helm repo update
helm install k8s-infra-<cluster> signoz/k8s-infra -n signoz-infra --create-namespace -f override-values-<cluster>.yaml
```

  </TabItem>
</Tabs>

### Platform-specific tweaks

- GKE Autopilot:

```yaml
presets:
  kubeletMetrics:
    authType: none
    endpoint: ${K8S_NODE_NAME}:10255
```

- Windows nodes:

```yaml
presets:
  hostMetrics:
    root_path: ""
otelAgent:
  image:
    tag: 0.123.0-windows-2022-amd64
otelDeployment:
  image:
    tag: 0.123.0-windows-2022-amd64
```

## Step 3: Install in each cluster

Repeat for every cluster, using that clusterâ€™s overrides file.

```bash
helm repo add signoz https://charts.signoz.io
helm repo update
helm install k8s-infra-<cluster> signoz/k8s-infra -n signoz-infra --create-namespace -f override-values-<cluster>.yaml
```

## Step 4: Verify in SigNoz

- In Metrics/Logs/Traces views, filter by `clusterName` (from `global.clusterName`).
- If cloud resource detection is enabled, you may also use `k8s.cluster.name`.
- Create dashboards per cluster or compare across clusters with group-by filters.

## Best practices

- Use consistent, unique `global.clusterName` values.
- Consider separate ingestion keys per cluster for isolation/rotation.
- Tune collectors for cluster size:
  - Increase metrics `collectionInterval` in large clusters.
  - Scope logs with `logsCollection.whitelist` or `blacklist`.
- Ensure egress to your OTLP endpoint (`4317` for gRPC; `443` for SigNoz Cloud).
- Manage configs via GitOps: a shared base values file plus per-cluster overrides.

## Next Steps

- [Install K8s-Infra](/docs/collection-agents/k8s/k8s-infra/install-k8s-infra)
- [Configure K8s-Infra](/docs/collection-agents/k8s/k8s-infra/configure-k8s-infra)
- [K8s-Infra Overview](/docs/collection-agents/k8s/k8s-infra/overview)

